<div class="Section0" style="layout-grid:15.6000pt;">

# **<span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:bold;font-size:16.0000pt;mso-font-kerning:22.0000pt;"><font face="宋体">敏捷开发框架</font>SmartAndroidDeveloper<font face="宋体">的主要思路及应用</font></span>****<span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:bold;font-size:16.0000pt;mso-font-kerning:22.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">作者：苏光磊</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">（动静新闻</font>App<font face="宋体">客户端开发工程师、客户端架构设计师）</font></span>****<span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">项目及文章公开发布网址：</font></span>**<span>[**<u><span class="15" style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:rgb(0,0,255);font-weight:bold;text-decoration:underline;text-underline:single;font-size:12.0000pt;">https://github.com/lucifinilsu/SmartAndroidDeveloper</span></u>**](https://github.com/lucifinilsu/SmartAndroidDeveloper)</span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">项目简介：</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">SmartAndroidDeveloper<font face="宋体">（下简称</font><font face="Consolas">SAD</font><font face="宋体">）是一个由我个人在过往项目的开发中不断总结经验教训，以及对新技术的研究中开发的全新的</font><font face="Consolas">Android</font><font face="宋体">应用的敏捷开发框架，目的是为应用层程序员提供一个高度集成化且可定制性较强的开发环境，尽可能的令程序员专注于业务逻辑而非技术问题。其遵循以下原则：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">不干涉应用层，以接口或抽象类的形式向上扩展功能。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">基础组件提供</font>simple<font face="宋体">样例，可供应用层程序员作为编写扩展的参考或者直接继承。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">架构形式采用事件隔离，彻底绝灭不必要的耦合。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">工具类尽可能以静态方法呈现。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">不滥用设计模式。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">谨慎使用注解。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="font-family:Wingdings;mso-fareast-font-family:宋体;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><span style="mso-list:Ignore;">u<span> </span></span></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">用</font>RClassManager<font face="宋体">类下的</font><font face="Consolas">find</font><font face="宋体">方法代替</font><font face="Consolas">android</font><font face="宋体">的</font><font face="Consolas">find</font><font face="宋体">方法</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">项目解析：</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">本项目目前主要使用</font>Eclipse<font face="宋体">开发，</font><font face="Consolas">AndroidStudio</font><font face="宋体">（</font><font face="Consolas">AS</font><font face="宋体">）为辅助，后期会转为</font><font face="Consolas">AS</font><font face="宋体">项目。本框架分为三个部分：基本框架结构，基础组件部分，工具部分，异步逻辑处理部分，自定义</font><font face="Consolas">UI</font><font face="宋体">部分，功能部分。篇幅原因，本篇文章着重解释几个方面，其他可见</font><font face="Consolas">demo</font><font face="宋体">中展现。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">基本框架结构：</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">这里只重点讲解两个地方，其他的在</font>demo<font face="宋体">里详细说明</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;">1<font face="宋体">，</font><font face="Consolas">RC-RCH</font><font face="宋体">机制</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">首先我们要明晰一个原则：各个组件和控件应当各司其职，尽量减少承担不必要的工作，不要过分的去承担和寻求所需资源的来历。例如：</font>Activity<font face="宋体">和</font><font face="Consolas">Fragment</font><font face="宋体">，我们最主要的是控制它在生命周期内根据业务需求对任务的发起、</font><font face="Consolas">UI</font><font face="宋体">的更新，而不考虑任务的具体过程如何、</font><font face="Consolas">UI</font><font face="宋体">控件从何处取得。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">所以这里我们声明一个资源控制层（抽象类）：</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);"> </span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);">ABaseRESController</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);"><font face="宋体">（</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);"><font face="宋体">下简称</font>RC</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);"><font face="宋体">）</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-highlight:rgb(255,255,255);"><font face="宋体">和一个资源应用层（接口）</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-size:12.0000pt;mso-font-kerning:1.0000pt;">:</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;font-size:12.0000pt;mso-font-kerning:1.0000pt;">IRESControllerHost</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">（</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">下简称</font>RCH</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">）</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;">,<font face="宋体">他们的关系和功能是这样的：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">例如：在</font>SAD<font face="宋体">的</font><font face="Consolas">Activity</font><font face="宋体">里，由</font><font face="Consolas">Activity</font><font face="宋体">实现</font><font face="Consolas">RCH</font><font face="宋体">接口，作为宿主，</font><font face="Consolas">RCH</font><font face="宋体">的主要功能是将</font><font face="Consolas">Activity</font><font face="宋体">实例提供给</font><font face="Consolas">RC</font><font face="宋体">，并持有</font><font face="Consolas">RC</font><font face="宋体">的继承类为成员变量，</font><font face="Consolas">RC</font><font face="宋体">在</font><font face="Consolas">Activity</font><font face="宋体">的</font><font face="Consolas">OnCreate</font><font face="宋体">周期实例化，作为寄生者，并调用其</font><font face="Consolas">init</font><font face="宋体">方法。</font><font face="Consolas">RC</font><font face="宋体">的主要职责是初始化</font><font face="Consolas">Activity</font><font face="宋体">所需要的</font><font face="Consolas">UI</font><font face="宋体">资源，并将其暴露给</font><font face="Consolas">RCH</font><font face="宋体">，我们在</font><font face="Consolas">Activity</font><font face="宋体">里可自由的取用</font><font face="Consolas">RC</font><font face="宋体">提供的</font><font face="Consolas">UI</font><font face="宋体">资源，而不关心其是</font><font face="Consolas">xml</font><font face="宋体">静态的还是</font><font face="Consolas">java</font><font face="宋体">动态生成的或者是做过什么处理。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">此外</font>RC-RCH<font face="宋体">机制还可以帮助我们解决例如</font><font face="Consolas">Activity</font><font face="宋体">和</font><font face="Consolas">Fragment</font><font face="宋体">、</font><font face="Consolas">Service</font><font face="宋体">等组件（这里我们将</font><font face="Consolas">Fragment</font><font face="宋体">也视为组件的一种）的资源共享问题。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">在共享控制的时候，</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">RC</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">变得十分强悍，</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">RC</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">不关心宿主的层级（例如</font>fragment多层嵌套）,它只有一个主宿主，</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">若干</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">个副宿主，但并不关心副宿主之间的层级</font>,例如：副宿主1是</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">fragment</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">，副宿主</font>2是1的下级</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">fragment</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">，那么在控制器里</font>1和2是并列的，主宿主</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">可以通过</font>RC</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">直接操控副宿主</font>2的资源，副宿主1也可直接通过控制器操控2的所有资源。</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">RC-RHC<font face="宋体">的应用场景很多，</font><font face="Consolas">View</font><font face="宋体">级别也可以使用</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">，</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">这里具体的应用参照</font>Demo<font face="宋体">。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;">2<font face="宋体">，事件隔离机制</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">MVP<font face="宋体">架构众所周知，也是很多项目里常用的架构，但</font><font face="Consolas">MVP</font><font face="宋体">依然有一定的局限性，例如：随着项目的变大业务需求变复杂，</font><font face="Consolas">Presenter</font><font face="宋体">层会越来越臃肿，并且要编写非常多的</font><font face="Consolas">View</font><font face="宋体">接口，究其根本，是由于</font><font face="Consolas">MVP</font><font face="宋体">所使用的是接口隔离机制导致。其实这里我们不妨做这样一个设想：当一项业务任务在</font><font face="Consolas">A</font><font face="宋体">处发布并执行以后，并在</font><font face="Consolas">B</font><font face="宋体">处更新其结果到</font><font face="Consolas">UI</font><font face="宋体">上，而又要避免</font><font face="Consolas">AB</font><font face="宋体">相互依赖，这里我们就要用到事件隔离机制了：在</font><font face="Consolas">SAD</font><font face="宋体">里我们首先定义好业务逻辑引擎类（</font><font face="Consolas">BT</font><font face="宋体">）（例如调用接口获取数据、本地读写数据库获取相应结果），</font><font face="Consolas">BT</font><font face="宋体">是纯数据操作，操作结束后将结果通过</font><font face="Consolas">Eventbus</font><font face="宋体">进行发布，接收方可以在不依赖发布方的情况下直接进行</font><font face="Consolas">UI</font><font face="宋体">更新，比如一个典型的例子：我们在</font><font face="Consolas">service</font><font face="宋体">里用</font><font face="Consolas">BT</font><font face="宋体">异步（耗时）获取一个数据，并用</font><font face="Consolas">Eventbus</font><font face="宋体">发布出去，</font><font face="Consolas">Activity</font><font face="宋体">可以在不依赖</font><font face="Consolas">service</font><font face="宋体">和</font><font face="Consolas">BT</font><font face="宋体">情况下直接更新</font><font face="Consolas">UI</font><font face="宋体">。也就是说，发布方不关心发布的是什么，接收方不关心是谁发布的，</font><font face="Consolas">BT</font><font face="宋体">不关心以上两者，三方隔离，避免了很多臃肿代码的产生，简洁明快，并且有利于团队分工开发。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">基础组件部分：</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">由于在实际的工作项目中会遇到各种各样的需求，对于</font>Android<font face="宋体">四大组件的生命周期的把控要求会越来越复杂，所以</font><font face="Consolas">SAD</font><font face="宋体">注重对生命周期的二次解构和细分。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">Activity:<font face="宋体">在基本框架结构部分我们已经分析了</font><font face="Consolas">RCH</font><font face="宋体">和</font><font face="Consolas">RC</font><font face="宋体">原理，这里就不再赘述，这里我们重点说明对</font><font face="Consolas">OnCreate</font><font face="宋体">周期的细分</font><font face="Consolas">,SAD</font><font face="宋体">将</font><font face="Consolas">OnCreate</font><font face="宋体">过程细化为了以下过程：</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;">/**</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * 在执行</span><u><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);text-decoration:underline;text-underline:single;font-size:10.5000pt;mso-font-kerning:1.0000pt;">oncreate</span></u><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">之前执行一些操作，比如</font>setTheme等。</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,159,191);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">@param</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> savedInstanceState</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> */</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">public</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">boolean</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> OnPreOnCreate(Bundle </span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(106,62,62);font-size:10.5000pt;mso-font-kerning:1.0000pt;">savedInstanceState</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;">);</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;">/**</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * 在执行setContentView之前执行</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,159,191);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">@param</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> savedInstanceState</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> */</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">public</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">boolean</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;">  OnPreSetContentLayout(Bundle </span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(106,62,62);font-size:10.5000pt;mso-font-kerning:1.0000pt;">savedInstanceState</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;">);</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;">/**</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * 获取活动对象的布局</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,159,191);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">@return</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> */</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">public</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">int</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> OnGetContentLayoutRes();</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;">/**</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * setContentView之后执行</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> */</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">public</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">boolean</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;">  OnSetContentLayoutCompleted();</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;">/**</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> * 开始执行activity逻辑</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(63,95,191);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> */</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">public</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> </span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(127,0,85);font-weight:bold;font-size:10.5000pt;mso-font-kerning:1.0000pt;">boolean</span>**<span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';color:rgb(0,0,0);font-size:10.5000pt;mso-font-kerning:1.0000pt;"> OnExecuteActivityFunction();</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:10.5000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">。应用层开发者可按需扩展这些方法，十分便捷。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">另外，</font>Google<font face="宋体">早在</font><font face="Consolas">I/O 2014</font><font face="宋体">就对</font><font face="Consolas">UI</font><font face="宋体">设计规范</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;color:rgb(51,51,51);letter-spacing:0.0000pt;font-weight:normal;text-transform:none;font-style:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);">Material Design</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;color:rgb(51,51,51);letter-spacing:0.0000pt;font-weight:normal;text-transform:none;font-style:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;background:rgb(255,255,255);mso-shading:rgb(255,255,255);"><font face="宋体">做了明确的定义，但对多版本的兼容性不佳，例如</font>Android4.4<font face="宋体">和</font><font face="Consolas">5.0</font><font face="宋体">在</font><font face="Consolas">statusbar</font><font face="宋体">和</font><font face="Consolas">Toolbar</font><font face="宋体">的配置编写上存在差异，</font><font face="Consolas">SAD</font><font face="宋体">针对其做了兼容性的配置，应用层开发者仅仅需要在</font><font face="Consolas">RC</font><font face="宋体">继承类里扩展其中几个方法就能快速完成</font><font face="Consolas">MD</font><font face="宋体">编写，节约大量时间，具体可见</font><font face="Consolas">Demo</font><font face="宋体">。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">Fragment:<font face="宋体">在实际开发中，我们往往会遇到</font><font face="Consolas">Fragment</font><font face="宋体">反复重载的场景，其</font><font face="Consolas">OnCreateView</font><font face="宋体">方法需要根据需求进行调整，有时会比较繁琐，</font><font face="Consolas">SAD</font><font face="宋体">提供了适配各种场景的载入模式例如懒加载模式、</font><font face="Consolas">WebView</font><font face="宋体">模式等。通过配合</font><font face="Consolas">RC-RCH</font><font face="宋体">机制十分便捷。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">Service<font face="宋体">、</font><font face="Consolas">BroadcastReceiver</font><font face="宋体">等目前没有扩展的必要。只是</font><font face="Consolas">IntentService</font><font face="宋体">有几个网络请求的</font><font face="Consolas">Simpe</font><font face="宋体">可以直接调用。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">功能和异步逻辑部分（简述）</font></span>****<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">异步逻辑</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">：</font>SAD<font face="宋体">对</font><font face="Consolas">AsyncTask</font><font face="宋体">进行了重写，目的是令其支持根据当前设备</font><font face="Consolas">CPU</font><font face="宋体">的状态进行任务并发，此外还定义了多种执行器，支持串行、并行等。能够适配多种任务类型。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">网络请求</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">：</font>SAD<font face="宋体">对</font><font face="Consolas">OkHttp</font><font face="宋体">进行了二次封装，支持</font><font face="Consolas">GET,POST,HEAD,PUT,PATCH,DELETE</font><font face="宋体">等</font><font face="Consolas">Method</font><font face="宋体">，并作为数据访问引擎用</font><font face="Consolas">AsyncTask</font><font face="宋体">包装了应用层可直接调用的工具类，并且支持文件的上传下载（支持断点续传），非常便捷。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">缓存框架</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:Consolas;font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">：</font>SAD</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">建立</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">了</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">并管理一个稳固并强有力的三级缓存框架（</font>2级内存，1级磁盘）。在</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">Cahce</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">的设计中，一般会考虑两种对象管理方法，一是按对象大小，比如开一个</font>10M字节的</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">cahce</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">空间。另外一个是按对象的数量，比如</font>1000个对象的cache空间。在</span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;">SAD</span><span style="mso-spacerun:'yes';font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="Consolas">里，我们优先考虑对象大小然后考虑对象数量：首先存入一级内存缓存时，</font> <font face="Consolas">严格审查计算一级缓存是否在存入新缓存对象后大小符合规定，如果超出则删掉旧缓存，</font> <font face="Consolas">一直删到大小符合规定为止，然后再根据一级缓存的容器特性对数量进行控制，超出则向二级缓存溢出。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">当然，</font>SAD<font face="宋体">也提供了较为热门的</font><font face="Consolas">DiskLruCache</font><font face="宋体">管理方法。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">权限管理</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">：自</font>Android6.0<font face="宋体">发布以来，</font><font face="Consolas">Google</font><font face="宋体">收紧了应用权限申请，在开发中，涉及关键权限的操作都要求手动编写代码申请，</font><font face="Consolas">SAD</font><font face="宋体">提供了专用的权限管理类，一行代码搞定权限申请。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">其他：</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">SAD<font face="宋体">提供了丰富的应用层开发所需要的接口，例如在</font><font face="Consolas">Application</font><font face="宋体">监控</font><font face="Consolas">Activity</font><font face="宋体">的周期接口，网络状态接口，设备状态接口，日志接口，</font><font face="Consolas">AIDL</font><font face="宋体">相关接口，防杀保活接口，</font><font face="Consolas">H5</font><font face="宋体">页面配置接口等等。</font></span><span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"><font face="宋体">工具类：</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">SAD<font face="宋体">有丰富的工具类可以直接使用：文件、图片、视频、设备、应用、算法、加解密等等，目前还在不断添加中。</font></span>**<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:bold;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>**

<span style="mso-spacerun:'yes';font-family:宋体;mso-ascii-font-family:Consolas;mso-hansi-font-family:Consolas;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;">SAD<font face="宋体">目前对大型</font><font face="Consolas">Android</font><font face="宋体">应用项目具有良好的兼容性、易用性和稳定性。更多的新功能和优化仍在进行中。</font></span><span style="mso-spacerun:'yes';font-family:Consolas;mso-fareast-font-family:宋体;mso-bidi-font-family:'Times New Roman';font-weight:normal;font-size:12.0000pt;mso-font-kerning:1.0000pt;"></span>

</div>